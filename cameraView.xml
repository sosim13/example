<?xml version="1.0" encoding="utf-8"?>
<!--
	Created by http://cafe.naver.com/citrineframework
	You can freely copy, distribute, modify for commercial or non-commercial purposes.
-->
<MOML xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.applusform.com/xsd/moml_ui.xsd" version="1.1.1">

	<FUNCTION id="takeCamera">
		<CMD cmd="cam.takePicture()" />
		<CMD cmd="cam.open()" delay="1500" />
	</FUNCTION>

	<FUNCTION id="onSavePicture(savePath)">
		<CMD cmd="savePictureWindow.defaultImg = '#00000000'" />
		<CMD cmd="pictureIcon.visible='invisible'" />
		<CMD cmd="loading.visible='visible'" />
		<CMD cmd="loading.start" delay="200" />
		<CMD cmd="loading.stop" delay="1500" />
		<CMD cmd="loading.visible='invisible'" delay="1500" />
		<CMD cmd="savePictureWindow.defaultImg=savePath" delay="1500" />
	</FUNCTION>

	<FUNCTION id="settingCheck">
		<CMD condition="overlayImage.visible =='invisible'"
			cmd="animation.flyIn('overlayImage', 0, -90, overlayImage.width, overlayImage.height, '', 200, ''), animation.flyIn('bigBtnImage', 0, -90, bigBtnImage.width, bigBtnImage.height, '', 200, '')"
			elseCmd="animation.flyOut('overlayImage', 0, -90, overlayImage.width, overlayImage.height, '', 200, ''), animation.flyOut('bigBtnImage', 0, -90, bigBtnImage.width, bigBtnImage.height, '', 200, '')" />
	</FUNCTION>

	<FUNCTION id="setCameraType">
		<CMD condition="cam.type =='back'" cmd="cam.type = 'front'" elseCmd="cam.type = 'back'" />
	</FUNCTION>

	<FUNCTION id="binBtnCheck">
		<CMD condition="bigBtn.visible =='invisible'" cmd="bigBtnImage.defaultImg = 'res/settings_bigbutton_on.png', bigBtn.visible='visible'" elseCmd="bigBtnImage.defaultImg = 'res/settings_bigbutton_off.png', bigBtn.visible='invisible'" />
	</FUNCTION>

	<FUNCTION id="overlayCheck">
		<CMD condition="userVariable.overlayValue == 'default'">
			<RETURN cmd="overlayImage.defaultImg = 'res/settings_overlay_square.png',layoutFirst.visible='visible', layoutSecond.visible='invislble', userVariable.overlayValue = 'first'" />
		</CMD>
		<CMD condition="userVariable.overlayValue == 'first'">
			<RETURN cmd="overlayImage.defaultImg = 'res/settings_overlay_thirds.png',layoutFirst.visible='invisible', layoutSecond.visible='visible', userVariable.overlayValue = 'second'" />
		</CMD>
		<CMD condition="userVariable.overlayValue == 'second'">
			<RETURN cmd="overlayImage.defaultImg = 'res/settings_overlay_off.png',layoutFirst.visible='invisible', layoutSecond.visible='invisible', userVariable.overlayValue = 'default'" />
		</CMD>
	</FUNCTION>



	<CMD cmd="userVariable.overlayValue = 'default'" />
	<CMD cmd="cam.open()" delay="100" />
	<UILAYOUT portrait="720,1230" landscape="720,1230">
		<WINDOW id="mainWindow" layout="0,0,720,1230" align="relative" defaultImg="#000000">
			<WINDOW layout="0,0,720,120" align="relative" defaultImg="#ffffff">
				<IMAGE id="settingBtn" layout="0,0,120,120" defaultImg="res/grid_icon_gear.png" onClick="function.settingCheck" />
				<IMAGE id="overlayImage" layout="130,15,90,90" defaultImg="res/settings_overlay_off.png" visible="invisible" onClick="function.overlayCheck" />
				<IMAGE id="bigBtnImage" layout="230,15,90,90" defaultImg="res/settings_bigbutton_off.png" visible="invisible" onClick="function.binBtnCheck" />
				<IMAGE layout="634,42,49,37" defaultImg="res/camera_top_menu_camera.png" pressedImg="res/camera_top_menu_camera_pressed.png" onClick="function.setCameraType" />
			</WINDOW>
			<CAMERA id="cam" layout="0,120,720,910" type="back" scaleType="clip" savePath="storage:/mnt/sdcard/DCIM/Camera" align="relative" onSavePicture="onSavePicture" />
			<WINDOW layout="0,1030,720,200" align="relative" defaultImg="#222222">
				<BUTTON layout="231,78,53,40" defaultImg="res/side_panel_camera_icon.png" onClick="function.takeCamera" />
				<IMAGE id="savePictureWindow" layout="539,18,167,167" align="relative">
					<IMAGE id="pictureIcon" layout="64,64,42,42" defaultImg="res/side_panel_library_icon.png" />
					<FRAMEANIMATION id="loading" layout="30,30,108,108" repeat="true" autoStart="false" visible="invisible">
						<ITEM src="res/loading/cam2_processing_seq_00001.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00002.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00003.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00004.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00005.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00006.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00007.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00008.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00009.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00010.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00011.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00012.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00013.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00014.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00015.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00016.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00017.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00018.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00019.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00020.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00021.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00022.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00023.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00024.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00025.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00026.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00027.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00028.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00029.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00030.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00031.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00032.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00033.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00034.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00035.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00036.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00037.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00038.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00039.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00040.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00041.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00042.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00043.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00044.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00045.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00046.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00047.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00048.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00049.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00050.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00051.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00052.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00053.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00054.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00055.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00056.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00057.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00058.png" duration="10" />
						<ITEM src="res/loading/cam2_processing_seq_00059.png" duration="10" />
					</FRAMEANIMATION>
				</IMAGE>
			</WINDOW>
			<WINDOW id="layoutFirst" layout="0,120,720,510" defaultImg="#0000000" align="relative" visible="invisible">
				<LABEL layout="0,120,720,2" defaultImg="#ffffff" />
				<LABEL layout="0,790,720,2" defaultImg="#ffffff" />
			</WINDOW>
			<WINDOW id="layoutSecond" layout="0,120,720,910" defaultImg="#0000000" align="relative" visible="invisible">
				<LABEL layout="0,318,720,2" defaultImg="#ffffff" />
				<LABEL layout="0,638,720,2" defaultImg="#ffffff" />
				<LABEL layout="230,0,2,910" defaultImg="#ffffff" />
				<LABEL layout="470,0,2,910" defaultImg="#ffffff" />
			</WINDOW>
			<STYLEBUTTON id="bigBtn" layout="0,120,720,910" defaultImg="#0000000" shape="" borderStyle="solid:10|#ff0000" visible="invisible" onClick="function.takeCamera" />
		</WINDOW>
	</UILAYOUT>
</MOML> 